<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>KOTAai Inventory Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    padding: 0;
    font-family: "Segoe UI", sans-serif;
    background: #f4f7fb;
}

.container {
    max-width: 1200px;
    margin: auto;
    padding: 20px;
}

header {
    background: #1a365d;
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 20px;
}

h1 { margin: 0; }

.dashboard {
    background: white;
    border-radius: 12px;
    padding: 20px;
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 12px;
    border-bottom: 1px solid #e2e8f0;
    text-align: left;
    white-space: nowrap;
}

th {
    background: #1a365d;
    color: white;
}

.badge {
    padding: 4px 10px;
    border-radius: 20px;
    font-weight: bold;
}

.HIGH { background: #ffd6d6; color: #c53030; }
.MEDIUM { background: #fff3cd; color: #b7791f; }
.LOW { background: #d4edda; color: #2f855a; }

footer {
    margin-top: 30px;
    text-align: center;
    font-size: 0.9rem;
    color: #4a5568;
}
</style>
</head>

<body>
<div class="container">

<header>
<h1>üçõ KOTAai Inventory Dashboard</h1>
<p>Ingredient Usage & Stock Intelligence</p>
</header>

<div class="dashboard">
<table>
<thead>
<tr>
<th>Ingredient</th>
<th>Stock</th>
<th>Used Today</th>
<th>Weekly Demand</th>
<th>Days Left</th>
<th>Recommended Order</th>
<th>Urgency</th>
<th>Status</th>
</tr>
</thead>
<tbody id="table-body"></tbody>
</table>
</div>

<footer>
<p>KOTAai Inventory Intelligence ‚Ä¢ ¬© 2026 Kota King Klerksdorp</p>
<p>System Version 3.0 ‚Ä¢ Ingredient‚ÄëBased Analytics</p>
</footer>

</div>

<script>
const API_URL = "https://restaurant-demand-forecasting-1.onrender.com/api/dashboard";

const INGREDIENTS = [
    "Chips",
    "Bread",
    "Lettuce",
    "Melted Cheese",
    "Russian",
    "Vienna",
    "Tomato",
    "Atchar",
    "Egg",
    "Steak"
];

async function loadDashboard() {
    const res = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            items: INGREDIENTS.map(i => ({ item_name: i }))
        })
    });

    const data = await res.json();
    const body = document.getElementById("table-body");
    body.innerHTML = "";

    data.items.forEach(i => {
        body.innerHTML += `
        <tr>
            <td><strong>${i.item_name}</strong></td>
            <td>${i.current_stock}</td>
            <td>${i.used_today}</td>
            <td>${i.weekly_demand}</td>
            <td>${i.days_left}</td>
            <td>${i.recommended_order}</td>
            <td><span class="badge ${i.urgency}">${i.urgency}</span></td>
            <td>${i.status}</td>
        </tr>`;
    });
}

loadDashboard();
</script>
</body>
</html>
